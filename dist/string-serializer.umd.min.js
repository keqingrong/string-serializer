/*!
 * string-serializer v1.0.0
 * Copyright (c) 2020-present Qingrong Ke <keqingrong@outlook.com> (https://keqingrong.github.io/)
 * Released under the MIT License.
 */
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((r=r||self).stringSerializer={})}(this,(function(r){"use strict";const t=r=>null==r,n=r=>"string"==typeof r,e=Object.freeze({parse:function(r,t){try{return JSON.parse(r,t)}catch(r){return null}},stringify:function(r,t,n){try{return JSON.stringify(r,t,n)}catch(r){return""}}});function i(r){try{return Function(`"use strict";return (${r})`)()}catch(r){return null}}function u(r){if(!n(r))return r;const t=r.trim();if("null"===t)return null;const u=e.parse(t);if(null!==u)return u;const c=i(t);return null!==c?c:r}function c(r){if(Array.isArray(r))return r;if(t(r))return r;if(n(r)){const t=r.trim();if(0===t.length)return null;if(t.length>=2){if("["===t.charAt(0)&&"]"===t.charAt(t.length-1)){const r=u(t);if(Array.isArray(r))return r;if(t.includes(",")){return t.slice(1,t.length-1).split(",").map(r=>u(r))}return[t.slice(1,t.length-1)]}if(t.includes(","))return t.split(",").map(r=>u(r))}}return[r]}function f(r){if(t(r))return r;if(n(r)){const t=r.trim();return t.length>=2&&"{"===t.charAt(0)&&"}"===t.charAt(t.length-1)&&(e.parse(t)||i(t))||null}return r}r.parseArray=c,r.parseObject=f,r.stringifyArray=function(r){const t=c(r);return t&&e.stringify(t)||""},r.stringifyObject=function(r){const t=f(r);return t&&e.stringify(t)||""},Object.defineProperty(r,"__esModule",{value:!0})}));